"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[307],{4609:function(e,n,a){a.r(n),a.d(n,{default:function(){return k}});var t=a(4165),s=a(5861),i=a(1413),r=a(885),l=a(2791),o=a(6871),u=a(1708),c={content:"Auth_content__bWCUY",header:"Auth_header__f7Mse",underline:"Auth_underline__5VX1X",container:"Auth_container__Qco4n"},d=a(6814),p=a(8932),m=a(4160),v=a(5320),x=a(9434),h=a(5802),f=a(3943),Z=a(1302),b=a(184),k=function(){var e=(0,x.I0)(),n=(0,o.s0)(),a=(0,Z.Z)(),k=a.sendRequest,j=a.isLoading,w=a.error,g=a.clearError,_=(0,f.Z)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),I=_.formState,N=_.inputHandler,y=_.setFormData,C=(0,l.useState)(!0),S=(0,r.Z)(C,2),P=S[0],T=S[1],V=function(){g(),P?y((0,i.Z)((0,i.Z)({},I.inputs),{},{name:{value:"",isValid:!1}}),!1):y((0,i.Z)((0,i.Z)({},I.inputs),{},{name:void 0}),I.inputs.email.isValid&&I.inputs.password.isValid),T((function(e){return!e}))},O=function(){var a=(0,s.Z)((0,t.Z)().mark((function a(s){var i,r;return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s.preventDefault(),!P){a.next=15;break}return a.prev=2,a.next=5,k("/api/user/login","POST",{"Content-Type":"application/json"},JSON.stringify({email:I.inputs.email.value,password:I.inputs.password.value}));case 5:i=a.sent,e(h.u.login({userId:i.userId,token:i.token,email:i.email,name:i.name})),n("/"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),console.log(a.t0);case 13:a.next=26;break;case 15:return a.prev=15,a.next=18,k("/api/user/signup","POST",{"Content-Type":"application/json"},JSON.stringify({name:I.inputs.name.value,email:I.inputs.email.value,password:I.inputs.password.value}));case 18:r=a.sent,e(h.u.login({userId:r.userId,token:r.token,email:r.email,name:r.name})),n("/"),a.next=26;break;case 23:a.prev=23,a.t1=a.catch(15),console.log(a.t1);case 26:case"end":return a.stop()}}),a,null,[[2,10],[15,23]])})));return function(e){return a.apply(this,arguments)}}(),A=P?"underline":"";return(0,b.jsxs)("div",{className:c.container,children:[(0,b.jsx)("div",{className:c.content,children:(0,b.jsxs)("div",{className:"".concat(c.header," ").concat(c[A]),children:[(0,b.jsx)("button",{onClick:V,className:"title-text ".concat(P&&"active"),children:"login"}),(0,b.jsx)("button",{onClick:V,className:"title-text ".concat(!P&&"active"),children:"sign up"})]})}),(0,b.jsxs)("form",{onSubmit:O,children:[!P&&(0,b.jsx)(d.Z,{id:"name",element:"input",type:"text",label:"Name",onInput:N,errorText:"Please enter a valid name.",validators:[(0,u.hg)()]}),(0,b.jsx)(d.Z,{id:"email",element:"input",type:"email",label:"E-mail",onInput:N,errorText:"Please enter a valid e-mail.",validators:[(0,u.Ox)()]}),(0,b.jsx)(d.Z,{id:"password",element:"input",type:"password",label:"Password",onInput:N,errorText:"Please enter a valid password.(6 characters required).",validators:[(0,u.CP)(6)]}),w&&(0,b.jsx)(v.Z,{onClose:g,children:w}),j?(0,b.jsx)(m.Z,{}):(0,b.jsx)(p.Z,{disabled:!I.isValid,type:"submit",children:P?"LOGIN":"SIGN IN"})]})]})}}}]);
//# sourceMappingURL=307.3b5bca05.chunk.js.map